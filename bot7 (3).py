import telebot
from telebot import types

token = '7924584184:AAGugrc_FCyM6i-C-PlZZxUeMwKsyJRZSIs'
bot = telebot.TeleBot(token)

# –ì–ª–∞–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
def main_menu_markup():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    item1 = types.KeyboardButton("–ö—É–ø–∏—Ç—å –∫—É—Ä—Å—ãüíµ")
    item2 = types.KeyboardButton("–û –Ω–∞—Åüë•")
    item3 = types.KeyboardButton("–û—Ç–∑—ã–≤—ãüë®‚Äçüéì")
    markup.add(item1, item2, item3)
    return markup

# –û—Ç–∑—ã–≤—ã
reviews = [
    {
        "author": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–µ—Å—Ç–∞–∫–æ–≤",
        "course": "–û—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —è–∑—ã–∫–µ Java –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤",
        "text": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–∏—Ä —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. Java –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –≤ –ª—é–±–æ–º –ø—Ä–æ–µ–∫—Ç–µ, –¥–∞–∂–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–∞–π—Ç–∞. –ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å –ø–æ–ª–µ–∑–Ω–æ–µ –∏ —è, –æ—á–µ–Ω—å —Ä–∞–¥ —á—Ç–æ –ø–æ—à–µ–ª –∏–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–∏ –∫—É—Ä—Å—ã, —Å–æ–≤–µ—Ç—É—é –≤—Å–µ–º!"
    },
    {
        "author": "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞",
        "course": "–ö—É—Ä—Å Microsoft Office –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤",
        "text": "–ö—É—Ä—Å –æ—á–µ–Ω—å –ø–æ–º–æ–≥ –º–Ω–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –æ—Ñ–∏—Å–Ω—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏, —Ç–µ–ø–µ—Ä—å —è –ª–µ–≥–∫–æ –¥–µ–ª–∞—é –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã. –†–µ–∫–æ–º–µ–Ω–¥—É—é!"
    },
    {
        "author": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
        "course": "–ö—É—Ä—Å –ø–æ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ",
        "text": "–ö—Ä—É—Ç–æ–π –∫—É—Ä—Å! –¢–µ–ø–µ—Ä—å —è –º–æ–≥—É –¥–µ–ª–∞—Ç—å —Å–≤–æ–∏ —Å–∞–π—Ç—ã. –°–ø–∞—Å–∏–±–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –ø–æ–º–æ—â—å!"
    }
]

@bot.message_handler(commands=['start'])
def start_message(message):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ç–æ
    with open('photo-p1.jpg', 'rb') as photo:  # –ó–∞–º–µ–Ω–∏—Ç–µ 'photo-p1.jpg' –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
        bot.send_photo(message.chat.id, photo)

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    bot.send_message(message.chat.id,
                     '–ü—Ä–∏–≤–µ—Ç, –±–æ—Ç —Å–æ–∑–¥–∞–Ω –Ω–∞—à–∏–º–∏ —É—á–µ–Ω–∏–∫–∞–º–∏ @xzwsn –∏ @artemonsos! p.s.: –Ω–∞–∂–º–∏—Ç–µ —Å—é–¥–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ–ª–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫: /button',
                     reply_markup=main_menu_markup())

@bot.message_handler(commands=['button'])
def button_keyboard(message):
    bot.send_message(message.chat.id, '–í—ã–±–µ—Ä–∏—Ç–µ —á—Ç–æ –≤–∞–º –Ω–∞–¥–æ', reply_markup=main_menu_markup())

@bot.message_handler(content_types=['text'])
def message_reply(message):
    if message.text == "–ö—É–ø–∏—Ç—å –∫—É—Ä—Å—ãüíµ":
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        course_names = [
            "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ Python / 11-17 –ª–µ—Ç",
            "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Roblox / 9-13 –ª–µ—Ç",
            "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ Java / 11-14 –ª–µ—Ç",
            "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–æ–≤ / 13-17 –ª–µ—Ç",
            "–°–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ / 11-17 –ª–µ—Ç",
            "Microsoft Office (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, —Ä–∞–±–æ—Ç–∞ —Å Word –∏ Excel) / 10 - 12 –ª–µ—Ç",
            "–Æ–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç / 7-10 –ª–µ—Ç",
            "–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
        ]
        for course in course_names:
            markup.add(types.KeyboardButton(course))
        bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å –¥–ª—è –ø–æ–∫—É–ø–∫–∏:", reply_markup=markup)
    elif message.text in [
        "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ Python / 11-17 –ª–µ—Ç",
        "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Roblox / 9-13 –ª–µ—Ç",
        "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ Java / 11-14 –ª–µ—Ç",
        "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–æ–≤ / 13-17 –ª–µ—Ç",
        "–°–∏—Å—Ç–µ–º–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ / 11-17 –ª–µ—Ç",
        "Microsoft Office (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π, —Ä–∞–±–æ—Ç–∞ —Å Word –∏ Excel) / 10 - 12 –ª–µ—Ç",
        "–Æ–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç / 7-10 –ª–µ—Ç"
    ]:
        payment_info = "–î–ª—è –ø–æ–∫—É–ø–∫–∏ –∫—É—Ä—Å–∞ —Å–∫–∏–Ω—å—Ç–µ 5000 —Ä—É–±–ª–µ–π –Ω–∞ –Ω–æ–º–µ—Ä: +79270033517 –°–±–µ—Ä —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º -–•–æ—á—É –∫—É–ø–∏—Ç—å –∫—É—Ä—Å—ã- –∞ —Ç–∞–∫–∂–µ –≤–∞—à –Ω–∏–∫ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º, –∏ –Ω–∞—à –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–º–µ—Ç –≤–∞—à—É –∑–∞—è–≤–∫—É –∏ –≤—ã–¥–∞—Å—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –∑–∞–Ω—è—Ç–∏—è–º!"
        bot.send_message(message.chat.id, payment_info, reply_markup=main_menu_markup())
    elif message.text == "–û –Ω–∞—Åüë•":
        text = (
            "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Å:\n"
            "–ú—ã –°–∞–º–∞—Ä—Å–∫–∞—è –ò–¢ –∫–æ–º–ø–∞–Ω–∏—è ¬´–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏¬ª, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤ 2009 –≥–æ–¥—É. www.sov-teh.ru\n"
            "–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏ —Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è.\n\n"
            "–í 2012 –≥–æ–¥—É –£—á–µ–±–Ω—ã–π –¶–µ–Ω—Ç—Ä ¬´–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏¬ª –Ω–∞—á–∞–ª –æ–±—É—á–∞—Ç—å –ò–¢-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, —É—á–∏—Ç—ã–≤–∞—è —Ä–∞—Å—Ç—É—â–∏–π —Å–ø—Ä–æ—Å –Ω–∞ —Ä—ã–Ω–∫–µ —Ç—Ä—É–¥–∞.\n"
            "–í —Ç–µ—á–µ–Ω–∏–µ –±–æ–ª–µ–µ 7 –ª–µ—Ç —Ü–µ–Ω—Ç—Ä –ø—Ä–æ–≤–æ–¥–∏—Ç –∫—É—Ä—Å—ã –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö –∏ –¥–µ—Ç–µ–π –≤ –≥. –°–∞–º–∞—Ä–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è –≤–µ–¥—É—â–∏–º —É—á–µ–±–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º –§–∏—Ä–º—ã ¬´1–°¬ª.\n"
            "–û—Å–Ω–æ–≤–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º –ø—Ä–æ–¥—É–∫—Ç–∞–º 1–°, —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—á–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.\n"
            "–û—Å–æ–±–æ–π –≥–æ—Ä–¥–æ—Å—Ç—å—é —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç ¬´1C:–ö–ª—É–± –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤¬ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–±—É—á–∏–ª–æ—Å—å –±–æ–ª–µ–µ 4 —Ç—ã—Å—è—á —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –°–∞–º–∞—Ä–µ –∏ –æ–∫–æ–ª–æ 13 —Ç—ã—Å—è—á –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏.\n"
            "–¶–µ–Ω—Ç—Ä —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏—Ö –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–≤ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è –æ–±—É—á–µ–Ω–∏—è."
        )
        bot.send_message(message.chat.id, text, reply_markup=main_menu_markup())
    elif message.text == "–û—Ç–∑—ã–≤—ãüë®‚Äçüéì":
        show_review(message, 0)  # –ù–∞—á–∏–Ω–∞–µ–º —Å –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞
    elif message.text == "–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é":
        bot.send_message(message.chat.id, "–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", reply_markup=main_menu_markup())

def show_review(message, index):
    review = reviews[index]
    text = f"–û—Ç–∑—ã–≤ –æ—Ç {review['author']}\n" \
           f"–ö—É—Ä—Å: {review['course']}\n\n" \
           f"{review['text']}"

    markup = types.InlineKeyboardMarkup()

    # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –∏ "–í–ø–µ—Ä–µ–¥" –≤ –æ–¥–Ω–æ–º —Ä—è–¥—É
    row = []
    if index > 0:
        row.append(types.InlineKeyboardButton("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data=f"review_prev_{index}"))
    if index < len(reviews) - 1:
        row.append(types.InlineKeyboardButton("‚û°Ô∏è –í–ø–µ—Ä–µ–¥", callback_data=f"review_next_{index}"))

    if row:
        markup.add(*row)  # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É

    # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤"
    markup.add(types.InlineKeyboardButton("–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤", callback_data="add_review"))

    bot.send_message(message.chat.id, text, reply_markup=markup)

@bot.callback_query_handler(func=lambda call: call.data.startswith('review_'))
def review_callback(call):
    action, index_str = call.data.split('_')[1:]
    index = int(index_str)

    if action == 'prev':
        index = max(0, index - 1)
    elif action == 'next':
        index = min(len(reviews) - 1, index + 1)

    show_review(call.message, index)
    bot.answer_callback_query(call.id)  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ callback

@bot.callback_query_handler(func=lambda call: call.data == "add_review")
def add_review_callback(call):
    bot.send_message(call.message.chat.id, "–ß—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤ –µ–º—É @artemonsos")
    bot.answer_callback_query(call.id)  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ callback

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
bot.polling(none_stop=True)
